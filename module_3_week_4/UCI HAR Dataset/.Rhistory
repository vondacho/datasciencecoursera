class(features)
loaded(features<-read.table("features.txt", col.names = c("id", "feature")), "features")
str(features)
loaded(features<-read.table("features.txt", col.names = c("id", "feature"), stringsAsFactors = F), "features")
str(features)
loaded(features<-read.table("features.txt", col.names = c("id", "feature"), stringsAsFactors = F), "features")
train_DS = build_DS(features$feature) %>% mutate(group = "train")
features$feature
class(features$feature)
distinc(features)
distinct(features)
distinct(features$feature)
features <- read.table("./features.txt")[,2]
class(features)
X_test <- read.table("./test/X_test.txt")
names(X_test) = features
names(X_test)
X_test <- read.table("./test/X_test.txt")
str(X_test)
names(X_test)
class(names(X_test))
features
class(features)
names(X_test) <- features
X_train <- read.table("./train/X_train.txt")
names(X_train) <- features
rm(list = ls())
loaded = function(dataset, name) {
message(paste("loaded dataset", name, nrow(dataset), ncol(dataset), sep = ":"))
}
load_DS = function(features, kind = "train", signals = FALSE) {
setwd(paste0("./", kind))
loaded(X_DS<-read.table(paste0("X_", kind, ".txt")), "X_")
names(X_DS)<-features
loaded(y_DS<-read.table(paste0("y_", kind, ".txt"), col.names = c("activityId")), "y_")
loaded(subject_DS<-read.table(paste0("subject_", kind, ".txt"), col.names = c("subject")), "subject_")
result_DS<-bind_cols(y_DS, subject_DS, X_DS)
rm(y_DS, subject_DS, X_DS)
if (signals) {
result_DS<-bind_cols(result_DS, build_signals_DS(kind))
}
setwd("..")
result_DS
}
load_signals_DS = function(kind = "train") {
setwd("./Inertial Signals")
body_acc_x_DS<-read.table(paste0("body_acc_x_", kind, ".txt")) %>% setNames(paste0('ba.x.', names(.)))
body_acc_y_DS<-read.table(paste0("body_acc_y_", kind, ".txt")) %>% setNames(paste0('ba.y.', names(.)))
body_acc_z_DS<-read.table(paste0("body_acc_z_", kind, ".txt")) %>% setNames(paste0('ba.z.', names(.)))
loaded(body_acc_DS<-bind_cols(body_acc_x_DS, body_acc_y_DS, body_acc_z_DS), "body_acc_X/Y/Z")
rm(body_acc_x_DS, body_acc_y_DS, body_acc_z_DS)
body_gyro_x_DS<-read.table(paste0("body_gyro_x_", kind, ".txt")) %>% setNames(paste0('bg.x.', names(.)))
body_gyro_y_DS<-read.table(paste0("body_gyro_y_", kind, ".txt")) %>% setNames(paste0('bg.y.', names(.)))
body_gyro_z_DS<-read.table(paste0("body_gyro_z_", kind, ".txt")) %>% setNames(paste0('bg.z.', names(.)))
loaded(body_gyro_DS<-bind_cols(body_gyro_x_DS, body_gyro_y_DS, body_gyro_z_DS), "body_gyro_X/Y/Z")
rm(body_gyro_x_DS, body_gyro_y_DS, body_gyro_z_DS)
total_acc_x_DS<-read.table(paste0("total_acc_x_", kind, ".txt")) %>% setNames(paste0('ta.x.', names(.)))
total_acc_y_DS<-read.table(paste0("total_acc_y_", kind, ".txt")) %>% setNames(paste0('ta.y.', names(.)))
total_acc_z_DS<-read.table(paste0("total_acc_z_", kind, ".txt")) %>% setNames(paste0('ta.z.', names(.)))
loaded(total_acc_DS<-bind_cols(total_acc_x_DS, total_acc_y_DS, total_acc_z_DS), "total_acc_X/Y/Z")
rm(total_acc_x_DS, total_acc_y_DS, total_acc_z_DS)
result_DS<-bind_cols(body_acc_DS, body_gyro_DS, total_acc_DS)
rm(body_acc_DS, body_gyro_DS, total_acc_DS)
setwd("..")
result_DS
}
setwd("/Users/olivier/Documents/workspace/labor/education/coursera-data-science/week3_4/project/UCI HAR Dataset")
loaded(features<-read.table("features.txt", stringsAsFactors = F)[,2], "features")
train_DS = load_DS(f=features) %>% mutate(group = "train")
rm(list = ls())
loaded = function(dataset, name) {
message(paste("loaded dataset", name, nrow(dataset), ncol(dataset), sep = ":"))
}
load_DS = function(features, kind = "train", signals = FALSE) {
setwd(paste0("./", kind))
loaded(X_DS<-read.table(paste0("X_", kind, ".txt")), "X_")
names(X_DS)<-features
loaded(y_DS<-read.table(paste0("y_", kind, ".txt"), col.names = c("activityId")), "y_")
loaded(subject_DS<-read.table(paste0("subject_", kind, ".txt"), col.names = c("subject")), "subject_")
result_DS<-X_DS
#bind_cols(y_DS, subject_DS, X_DS)
rm(y_DS, subject_DS, X_DS)
if (signals) {
result_DS<-bind_cols(result_DS, build_signals_DS(kind))
}
setwd("..")
result_DS
}
load_signals_DS = function(kind = "train") {
setwd("./Inertial Signals")
body_acc_x_DS<-read.table(paste0("body_acc_x_", kind, ".txt")) %>% setNames(paste0('ba.x.', names(.)))
body_acc_y_DS<-read.table(paste0("body_acc_y_", kind, ".txt")) %>% setNames(paste0('ba.y.', names(.)))
body_acc_z_DS<-read.table(paste0("body_acc_z_", kind, ".txt")) %>% setNames(paste0('ba.z.', names(.)))
loaded(body_acc_DS<-bind_cols(body_acc_x_DS, body_acc_y_DS, body_acc_z_DS), "body_acc_X/Y/Z")
rm(body_acc_x_DS, body_acc_y_DS, body_acc_z_DS)
body_gyro_x_DS<-read.table(paste0("body_gyro_x_", kind, ".txt")) %>% setNames(paste0('bg.x.', names(.)))
body_gyro_y_DS<-read.table(paste0("body_gyro_y_", kind, ".txt")) %>% setNames(paste0('bg.y.', names(.)))
body_gyro_z_DS<-read.table(paste0("body_gyro_z_", kind, ".txt")) %>% setNames(paste0('bg.z.', names(.)))
loaded(body_gyro_DS<-bind_cols(body_gyro_x_DS, body_gyro_y_DS, body_gyro_z_DS), "body_gyro_X/Y/Z")
rm(body_gyro_x_DS, body_gyro_y_DS, body_gyro_z_DS)
total_acc_x_DS<-read.table(paste0("total_acc_x_", kind, ".txt")) %>% setNames(paste0('ta.x.', names(.)))
total_acc_y_DS<-read.table(paste0("total_acc_y_", kind, ".txt")) %>% setNames(paste0('ta.y.', names(.)))
total_acc_z_DS<-read.table(paste0("total_acc_z_", kind, ".txt")) %>% setNames(paste0('ta.z.', names(.)))
loaded(total_acc_DS<-bind_cols(total_acc_x_DS, total_acc_y_DS, total_acc_z_DS), "total_acc_X/Y/Z")
rm(total_acc_x_DS, total_acc_y_DS, total_acc_z_DS)
result_DS<-bind_cols(body_acc_DS, body_gyro_DS, total_acc_DS)
rm(body_acc_DS, body_gyro_DS, total_acc_DS)
setwd("..")
result_DS
}
setwd("/Users/olivier/Documents/workspace/labor/education/coursera-data-science/week3_4/project/UCI HAR Dataset")
loaded(features<-read.table("features.txt"), "features")
train_DS = load_DS(features=features[,2]) %>% mutate(group = "train")
rm(list = ls())
loaded = function(dataset, name) {
message(paste("loaded dataset", name, nrow(dataset), ncol(dataset), sep = ":"))
}
load_DS = function(features, kind = "train", signals = FALSE) {
setwd(paste0("./", kind))
loaded(X_DS<-read.table(paste0("X_", kind, ".txt")), "X_")
#names(X_DS)<-features
loaded(y_DS<-read.table(paste0("y_", kind, ".txt"), col.names = c("activityId")), "y_")
loaded(subject_DS<-read.table(paste0("subject_", kind, ".txt"), col.names = c("subject")), "subject_")
result_DS<-X_DS
#bind_cols(y_DS, subject_DS, X_DS)
rm(y_DS, subject_DS, X_DS)
if (signals) {
result_DS<-bind_cols(result_DS, build_signals_DS(kind))
}
setwd("..")
result_DS
}
load_signals_DS = function(kind = "train") {
setwd("./Inertial Signals")
body_acc_x_DS<-read.table(paste0("body_acc_x_", kind, ".txt")) %>% setNames(paste0('ba.x.', names(.)))
body_acc_y_DS<-read.table(paste0("body_acc_y_", kind, ".txt")) %>% setNames(paste0('ba.y.', names(.)))
body_acc_z_DS<-read.table(paste0("body_acc_z_", kind, ".txt")) %>% setNames(paste0('ba.z.', names(.)))
loaded(body_acc_DS<-bind_cols(body_acc_x_DS, body_acc_y_DS, body_acc_z_DS), "body_acc_X/Y/Z")
rm(body_acc_x_DS, body_acc_y_DS, body_acc_z_DS)
body_gyro_x_DS<-read.table(paste0("body_gyro_x_", kind, ".txt")) %>% setNames(paste0('bg.x.', names(.)))
body_gyro_y_DS<-read.table(paste0("body_gyro_y_", kind, ".txt")) %>% setNames(paste0('bg.y.', names(.)))
body_gyro_z_DS<-read.table(paste0("body_gyro_z_", kind, ".txt")) %>% setNames(paste0('bg.z.', names(.)))
loaded(body_gyro_DS<-bind_cols(body_gyro_x_DS, body_gyro_y_DS, body_gyro_z_DS), "body_gyro_X/Y/Z")
rm(body_gyro_x_DS, body_gyro_y_DS, body_gyro_z_DS)
total_acc_x_DS<-read.table(paste0("total_acc_x_", kind, ".txt")) %>% setNames(paste0('ta.x.', names(.)))
total_acc_y_DS<-read.table(paste0("total_acc_y_", kind, ".txt")) %>% setNames(paste0('ta.y.', names(.)))
total_acc_z_DS<-read.table(paste0("total_acc_z_", kind, ".txt")) %>% setNames(paste0('ta.z.', names(.)))
loaded(total_acc_DS<-bind_cols(total_acc_x_DS, total_acc_y_DS, total_acc_z_DS), "total_acc_X/Y/Z")
rm(total_acc_x_DS, total_acc_y_DS, total_acc_z_DS)
result_DS<-bind_cols(body_acc_DS, body_gyro_DS, total_acc_DS)
rm(body_acc_DS, body_gyro_DS, total_acc_DS)
setwd("..")
result_DS
}
setwd("/Users/olivier/Documents/workspace/labor/education/coursera-data-science/week3_4/project/UCI HAR Dataset")
loaded(features<-read.table("features.txt"), "features")
train_DS = load_DS(features=features[,2])
names(train_DS)
names(train_DS) <- features[,2]
names(train_DS)
rm(list = ls())
setwd("/Users/olivier/Documents/workspace/labor/education/coursera-data-science/week3_4/project/UCI HAR Dataset")
loaded = function(dataset, name) {
message(paste("loaded dataset", name, nrow(dataset), ncol(dataset), sep = ":"))
}
loaded(features<-read.table("features.txt")[,2], "features")
load_DS = function(kind = "train", signals = FALSE) {
setwd(paste0("./", kind))
loaded(X_DS<-read.table(paste0("X_", kind, ".txt")), "X_")
names(X_DS)<-features
loaded(y_DS<-read.table(paste0("y_", kind, ".txt"), col.names = c("activityId")), "y_")
loaded(subject_DS<-read.table(paste0("subject_", kind, ".txt"), col.names = c("subject")), "subject_")
result_DS<-X_DS
bind_cols(y_DS, subject_DS, X_DS)
rm(y_DS, subject_DS, X_DS)
if (signals) {
result_DS<-bind_cols(result_DS, build_signals_DS(kind))
}
setwd("..")
result_DS
}
load_signals_DS = function(kind = "train") {
setwd("./Inertial Signals")
body_acc_x_DS<-read.table(paste0("body_acc_x_", kind, ".txt")) %>% setNames(paste0('ba.x.', names(.)))
body_acc_y_DS<-read.table(paste0("body_acc_y_", kind, ".txt")) %>% setNames(paste0('ba.y.', names(.)))
body_acc_z_DS<-read.table(paste0("body_acc_z_", kind, ".txt")) %>% setNames(paste0('ba.z.', names(.)))
loaded(body_acc_DS<-bind_cols(body_acc_x_DS, body_acc_y_DS, body_acc_z_DS), "body_acc_X/Y/Z")
rm(body_acc_x_DS, body_acc_y_DS, body_acc_z_DS)
body_gyro_x_DS<-read.table(paste0("body_gyro_x_", kind, ".txt")) %>% setNames(paste0('bg.x.', names(.)))
body_gyro_y_DS<-read.table(paste0("body_gyro_y_", kind, ".txt")) %>% setNames(paste0('bg.y.', names(.)))
body_gyro_z_DS<-read.table(paste0("body_gyro_z_", kind, ".txt")) %>% setNames(paste0('bg.z.', names(.)))
loaded(body_gyro_DS<-bind_cols(body_gyro_x_DS, body_gyro_y_DS, body_gyro_z_DS), "body_gyro_X/Y/Z")
rm(body_gyro_x_DS, body_gyro_y_DS, body_gyro_z_DS)
total_acc_x_DS<-read.table(paste0("total_acc_x_", kind, ".txt")) %>% setNames(paste0('ta.x.', names(.)))
total_acc_y_DS<-read.table(paste0("total_acc_y_", kind, ".txt")) %>% setNames(paste0('ta.y.', names(.)))
total_acc_z_DS<-read.table(paste0("total_acc_z_", kind, ".txt")) %>% setNames(paste0('ta.z.', names(.)))
loaded(total_acc_DS<-bind_cols(total_acc_x_DS, total_acc_y_DS, total_acc_z_DS), "total_acc_X/Y/Z")
rm(total_acc_x_DS, total_acc_y_DS, total_acc_z_DS)
result_DS<-bind_cols(body_acc_DS, body_gyro_DS, total_acc_DS)
rm(body_acc_DS, body_gyro_DS, total_acc_DS)
setwd("..")
result_DS
}
train_DS = load_DS() %>% mutate(group = "train")
train_DS = load_DS()
names(train_DS)
rm(list = ls())
loaded = function(dataset, name) {
message(paste("loaded dataset", name, nrow(dataset), ncol(dataset), sep = ":"))
}
load_DS = function(features, kind = "train", signals = FALSE) {
setwd(paste0("./", kind))
loaded(X_DS<-read.table(paste0("X_", kind, ".txt")), "X_")
names(X_DS)<-features
loaded(y_DS<-read.table(paste0("y_", kind, ".txt"), col.names = c("activityId")), "y_")
loaded(subject_DS<-read.table(paste0("subject_", kind, ".txt"), col.names = c("subject")), "subject_")
result_DS<-bind_cols(y_DS, subject_DS, X_DS)
rm(y_DS, subject_DS, X_DS)
if (signals) {
result_DS<-bind_cols(result_DS, build_signals_DS(kind))
}
setwd("..")
result_DS
}
load_signals_DS = function(kind = "train") {
setwd("./Inertial Signals")
body_acc_x_DS<-read.table(paste0("body_acc_x_", kind, ".txt")) %>% setNames(paste0('ba.x.', names(.)))
body_acc_y_DS<-read.table(paste0("body_acc_y_", kind, ".txt")) %>% setNames(paste0('ba.y.', names(.)))
body_acc_z_DS<-read.table(paste0("body_acc_z_", kind, ".txt")) %>% setNames(paste0('ba.z.', names(.)))
loaded(body_acc_DS<-bind_cols(body_acc_x_DS, body_acc_y_DS, body_acc_z_DS), "body_acc_X/Y/Z")
rm(body_acc_x_DS, body_acc_y_DS, body_acc_z_DS)
body_gyro_x_DS<-read.table(paste0("body_gyro_x_", kind, ".txt")) %>% setNames(paste0('bg.x.', names(.)))
body_gyro_y_DS<-read.table(paste0("body_gyro_y_", kind, ".txt")) %>% setNames(paste0('bg.y.', names(.)))
body_gyro_z_DS<-read.table(paste0("body_gyro_z_", kind, ".txt")) %>% setNames(paste0('bg.z.', names(.)))
loaded(body_gyro_DS<-bind_cols(body_gyro_x_DS, body_gyro_y_DS, body_gyro_z_DS), "body_gyro_X/Y/Z")
rm(body_gyro_x_DS, body_gyro_y_DS, body_gyro_z_DS)
total_acc_x_DS<-read.table(paste0("total_acc_x_", kind, ".txt")) %>% setNames(paste0('ta.x.', names(.)))
total_acc_y_DS<-read.table(paste0("total_acc_y_", kind, ".txt")) %>% setNames(paste0('ta.y.', names(.)))
total_acc_z_DS<-read.table(paste0("total_acc_z_", kind, ".txt")) %>% setNames(paste0('ta.z.', names(.)))
loaded(total_acc_DS<-bind_cols(total_acc_x_DS, total_acc_y_DS, total_acc_z_DS), "total_acc_X/Y/Z")
rm(total_acc_x_DS, total_acc_y_DS, total_acc_z_DS)
result_DS<-bind_cols(body_acc_DS, body_gyro_DS, total_acc_DS)
rm(body_acc_DS, body_gyro_DS, total_acc_DS)
setwd("..")
result_DS
}
setwd("/Users/olivier/Documents/workspace/labor/education/coursera-data-science/week3_4/project/UCI HAR Dataset")
loaded(features<-read.table("features.txt")[,2], "features")
train_DS = load_DS(features)
test_DS = load_DS(features, kind="test")
names(train_DS)
train_DS %>% mutate(group = "train")
train_DS$group = "train"
test_DS$group = "test"
names(test_DS)
dataset = bind_rows(train_DS, test_DS)
rm(train_DS, test_DS)
names(dataset)
train_DS = load_DS(features)
test_DS = load_DS(features, kind="test")
train_DS$group = "train"
rm(train_DS, test_DS)
dim(train_DS)
train_DS = load_DS(features)
dim(train_DS)
train_DS$group = "train"
dim(train_DS)
test_DS = load_DS(features, kind="test")
names(test_DS)
dim(test_DS)
test_DS$group = "test"
dim(test_DS)
d<-bind_rows(train_DS, test_DS)
dim(d)
d<-c_bind(train_DS, test_DS)
d<-cbind(train_DS, test_DS)
d<-rbind(train_DS, test_DS)
dim(d)
dataset = rbind(train_DS, test_DS)
rm(train_DS, test_DS)
dim(dataset)
d<-select(dataset, matches("*.mean|std.*"))
features
features
str(features)
features<-read.table("features.txt")
ll
features
rename(features, X2=sub('()',''))
rename(features, X2=sub("()",""))
?sub
sub(features$X2,"()","")
sub("()","",features$X2)
sub(".*().*","",features$X2)
gsub(".*().*","",features$X2)
gsub("()","",features$X2)
features$X2
features
features[,1]
features[,2]
gsub("()","", features[,2])
gsub("()","", features[,2])
features$tidy <- gsub("()","", features[,2])
features
names(features)
features$tidy
features[,2]
features<-read.table("features.txt", stringsAsFactors = F)
features[,2]
features$tidy <- gsub("()","", features[,2])
features$tidy
str(features)
features$tidy <- lower(features[,2])
features$tidy <- tolower(features[,2])
str(features)
features$tidy <- gsub("-","_", features[,2])
str(features)
features$tidy <- gsub("()","", features[,2])
str(features)
features$tidy <- gsub("()","", gsub("-","_", tolower(features[,2])))
str(features)
features$tidy <- gsub("(","", gsub("-","_", tolower(features[,2])))
features$tidy <- gsub("/(/)","", gsub("-","_", tolower(features[,2])))
str(features)
features$tidy <- gsub("\(","", gsub("-","_", tolower(features[,2])))
features$tidy <- gsub("\\(","", gsub("-","_", tolower(features[,2])))
str(features)
features$tidy <- gsub("\\(\\)","", gsub("-","_", tolower(features[,2])))
str(features)
features$tidy
features$tidy <- gsub("\\(\\)","", gsub(",","", gsub("-","_", tolower(features[,2]))))
features$tidy
features$tidy <- gsub("\\)","_", gsub("\\(","_", gsub("\\(\\)","", gsub(",","_", gsub("-","_", tolower(features[,2]))))))
features$tidy
features$tidy <- gsub("\\)","", gsub("\\(","_", gsub("\\(\\)","", gsub(",","_", gsub("-","_", tolower(features[,2]))))))
features$tidy
loaded(features<-read.table("features.txt", stringsAsFactors = F)[,2], "features")
features <- gsub("\\)","", gsub("\\(","_", gsub("\\(\\)","", gsub(",","_", gsub("-","_", tolower(features))))))
features
load_features = function() {
loaded(features<-read.table("features.txt", stringsAsFactors = F)[,2], "features")
gsub("\\)","", gsub("\\(","_", gsub("\\(\\)","", gsub(",","_", gsub("-","_", tolower(features))))))
}
setwd("/Users/olivier/Documents/workspace/labor/education/coursera-data-science/week3_4/project/UCI HAR Dataset")
features<-load_features()
train_DS = load_DS(features)
train_DS$group = "train"
test_DS = load_DS(features, kind="test")
test_DS$group = "test"
dataset = rbind(train_DS, test_DS)
select(train_DS, matches("*.mean|std.*"))
names(train_DS)
rm(list = ls())
loaded = function(dataset, name) {
message(paste("loaded dataset", name, nrow(dataset), ncol(dataset), sep = ":"))
}
load_base_DS = function(features, kind = "train") {
setwd(paste0("./", kind))
loaded(X_DS<-read.table(paste0("X_", kind, ".txt")), "X_")
names(X_DS)<-features
setwd("..")
result_DS
}
load_activity_subject_DS = function(X_DS, kind = "train") {
setwd(paste0("./", kind))
loaded(y_DS<-read.table(paste0("y_", kind, ".txt"), col.names = c("activityId")), "y_")
loaded(subject_DS<-read.table(paste0("subject_", kind, ".txt"), col.names = c("subject")), "subject_")
result_DS<-bind_cols(y_DS, subject_DS, X_DS)
rm(y_DS, subject_DS)
setwd("..")
result_DS
}
load_signals_DS = function(X_DS, kind = "train") {
setwd(paste0("./", kind,"/Inertial Signals"))
body_acc_x_DS<-read.table(paste0("body_acc_x_", kind, ".txt")) %>% setNames(paste0('ba.x.', names(.)))
body_acc_y_DS<-read.table(paste0("body_acc_y_", kind, ".txt")) %>% setNames(paste0('ba.y.', names(.)))
body_acc_z_DS<-read.table(paste0("body_acc_z_", kind, ".txt")) %>% setNames(paste0('ba.z.', names(.)))
loaded(body_acc_DS<-bind_cols(body_acc_x_DS, body_acc_y_DS, body_acc_z_DS), "body_acc_X/Y/Z")
rm(body_acc_x_DS, body_acc_y_DS, body_acc_z_DS)
body_gyro_x_DS<-read.table(paste0("body_gyro_x_", kind, ".txt")) %>% setNames(paste0('bg.x.', names(.)))
body_gyro_y_DS<-read.table(paste0("body_gyro_y_", kind, ".txt")) %>% setNames(paste0('bg.y.', names(.)))
body_gyro_z_DS<-read.table(paste0("body_gyro_z_", kind, ".txt")) %>% setNames(paste0('bg.z.', names(.)))
loaded(body_gyro_DS<-bind_cols(body_gyro_x_DS, body_gyro_y_DS, body_gyro_z_DS), "body_gyro_X/Y/Z")
rm(body_gyro_x_DS, body_gyro_y_DS, body_gyro_z_DS)
total_acc_x_DS<-read.table(paste0("total_acc_x_", kind, ".txt")) %>% setNames(paste0('ta.x.', names(.)))
total_acc_y_DS<-read.table(paste0("total_acc_y_", kind, ".txt")) %>% setNames(paste0('ta.y.', names(.)))
total_acc_z_DS<-read.table(paste0("total_acc_z_", kind, ".txt")) %>% setNames(paste0('ta.z.', names(.)))
loaded(total_acc_DS<-bind_cols(total_acc_x_DS, total_acc_y_DS, total_acc_z_DS), "total_acc_X/Y/Z")
rm(total_acc_x_DS, total_acc_y_DS, total_acc_z_DS)
result_DS<-bind_cols(X_DS, body_acc_DS, body_gyro_DS, total_acc_DS)
rm(body_acc_DS, body_gyro_DS, total_acc_DS)
setwd("../..")
result_DS
}
load_features = function() {
loaded(features<-read.table("features.txt", stringsAsFactors = F)[,2], "features")
gsub("\\)","", gsub("\\(","_", gsub("\\(\\)","", gsub(",","_", gsub("-","_", tolower(features))))))
}
setwd("~/Documents/workspace/labor/education/coursera-data-science/week3_4/project")
setwd("./UCI HAR Dataset")
features<-load_features()
train_DS<-load_base_DS(features)
load_base_DS = function(features, kind = "train") {
setwd(paste0("./", kind))
loaded(X_DS<-read.table(paste0("X_", kind, ".txt")), "X_")
names(X_DS)<-features
setwd("..")
X_DS
}
train_DS<-load_base_DS(features)
rm(list = ls())
loaded = function(dataset, name) {
message(paste("loaded dataset", name, nrow(dataset), ncol(dataset), sep = ":"))
}
load_X_DS = function(features, kind = "train") {
setwd(paste0("./", kind))
loaded(X_DS<-read.table(paste0("X_", kind, ".txt")), "X_")
names(X_DS)<-features
setwd("..")
X_DS
}
load_y_subject_DS = function(X_DS, kind = "train") {
setwd(paste0("./", kind))
loaded(y_DS<-read.table(paste0("y_", kind, ".txt"), col.names = c("activityId")), "y_")
loaded(subject_DS<-read.table(paste0("subject_", kind, ".txt"), col.names = c("subject")), "subject_")
result_DS<-bind_cols(y_DS, subject_DS, X_DS)
rm(y_DS, subject_DS)
setwd("..")
result_DS
}
load_signals_DS = function(X_DS, kind = "train") {
setwd(paste0("./", kind,"/Inertial Signals"))
body_acc_x_DS<-read.table(paste0("body_acc_x_", kind, ".txt")) %>% setNames(paste0('ba.x.', names(.)))
body_acc_y_DS<-read.table(paste0("body_acc_y_", kind, ".txt")) %>% setNames(paste0('ba.y.', names(.)))
body_acc_z_DS<-read.table(paste0("body_acc_z_", kind, ".txt")) %>% setNames(paste0('ba.z.', names(.)))
loaded(body_acc_DS<-bind_cols(body_acc_x_DS, body_acc_y_DS, body_acc_z_DS), "body_acc_X/Y/Z")
rm(body_acc_x_DS, body_acc_y_DS, body_acc_z_DS)
body_gyro_x_DS<-read.table(paste0("body_gyro_x_", kind, ".txt")) %>% setNames(paste0('bg.x.', names(.)))
body_gyro_y_DS<-read.table(paste0("body_gyro_y_", kind, ".txt")) %>% setNames(paste0('bg.y.', names(.)))
body_gyro_z_DS<-read.table(paste0("body_gyro_z_", kind, ".txt")) %>% setNames(paste0('bg.z.', names(.)))
loaded(body_gyro_DS<-bind_cols(body_gyro_x_DS, body_gyro_y_DS, body_gyro_z_DS), "body_gyro_X/Y/Z")
rm(body_gyro_x_DS, body_gyro_y_DS, body_gyro_z_DS)
total_acc_x_DS<-read.table(paste0("total_acc_x_", kind, ".txt")) %>% setNames(paste0('ta.x.', names(.)))
total_acc_y_DS<-read.table(paste0("total_acc_y_", kind, ".txt")) %>% setNames(paste0('ta.y.', names(.)))
total_acc_z_DS<-read.table(paste0("total_acc_z_", kind, ".txt")) %>% setNames(paste0('ta.z.', names(.)))
loaded(total_acc_DS<-bind_cols(total_acc_x_DS, total_acc_y_DS, total_acc_z_DS), "total_acc_X/Y/Z")
rm(total_acc_x_DS, total_acc_y_DS, total_acc_z_DS)
result_DS<-bind_cols(X_DS, body_acc_DS, body_gyro_DS, total_acc_DS)
rm(body_acc_DS, body_gyro_DS, total_acc_DS)
setwd("../..")
result_DS
}
load_features = function() {
loaded(features<-read.table("features.txt", stringsAsFactors = F)[,2], "features")
gsub("\\)","", gsub("\\(","_", gsub("\\(\\)","", gsub(",","_", gsub("-","_", tolower(features))))))
}
setwd("./UCI HAR Dataset")
features<-load_features()
train_DS<-load_X_DS(features)
test_DS<-load_X_DS(features, kind="test")
selected_features <- grepl("mean|std", features)
selected_features
names(train_DS)
train_DS<-train_DS[,selected_features]
dim(train_DS)
names(train_DS)
train_DS<-load_y_subject_DS(train_DS)
train_DS$group = "train"
names(train_DS)
dim(train_DS)
test_DS<-test_DS[,selected_features]
test_DS<-load_y_subject_DS(test_DS, kind = "test")
test_DS$group = "test"
dataset = rbind(train_DS, test_DS)
rm(train_DS, test_DS)
dim(dataset)
activityLabelsDS<-read.table("activity_labels.txt", col.names = c("activityId","activity"))
activity_labels_DS<-read.table("activity_labels.txt", col.names = c("activityId","activity"))
dataset<-merge(dataset, activity_labels_DS)
rm(activity_labels_DS)
names(dataset)
dataset<-select(dataset, -activityId)
names(dataset)
ds<-group_by(dataset, activity, subject)
str(ds)
tidyDS<-dataset %>%
select(-group) %>%
group_by(activity, subject) %>%
summarise(funs(mean))
dataset %>%
select(-group) %>%
group_by(activity, subject)
ds <- dataset %>%
select(-group) %>%
group_by(activity, subject)
ds
?summarize
?summarise_
?summarise_at
ds
ds %>% summarise_all(mean)
ds<-ds %>% summarise_all(mean)
head(ds)
View(ds)
rm(list = ls())
source('~/Documents/workspace/labor/education/coursera-data-science/week3_4/project/run_analysis.R')
source('~/Documents/workspace/labor/education/coursera-data-science/week3_4/project/run_analysis.R')
source('~/Documents/workspace/labor/education/coursera-data-science/week3_4/project/run_analysis.R')
View(dataset)
View(final_tidy_DS)
names(final_tidy_DS)
print(names(final_tidy_DS))
